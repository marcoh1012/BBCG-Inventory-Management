{% extends '/users/admin.html'%}{% block display %}
<div>
    <div style="margin-top: 2rem;">
        <h2>Analytics</h2>
        <div>
            Report Week to Date
            <!-- <div class="float-right">
                <div class="dropdown">
                    <button class="btn btn-info dropdown-toggle" type="button" id="reportDropDown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Week To Date
                </button>
                    <div class="dropdown-menu" id='report-dropdown' aria-labelledby="reportDropDown">
                        <button class="dropdown-item" type="button">Week To Date</button>
                        <button class="dropdown-item" type="button">Month To Date</button>
                        <button class="dropdown-item" type="button">Year To Date</button>
                        <button class="dropdown-item" type="button">Custom</button>

                    </div>
                </div>
            </div> -->
        </div>
    </div>
    <div>
        <div class="main-table">
            <div style="text-align: center;">
                <h4>Jobs</h4>
                <table class="table">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Job Name</th>
                            <th scope="col">PO Number</th>
                            <th scope="col">Customer</th>
                            <th scope="col">SF</th>
                            <th scope="col">Slabs</th>
                            <th scope="col">LF</th>
                            <th scope="col">Cutouts</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for job in jobs %}
                        <tr>

                            <td scope="row">{{job.name}}</td>
                            <td>{{job.po_number}}</td>
                            <td>{{job.contractor.name}}</td>
                            <td>{{job.square_feet}}</td>
                            <td>{{job.slabs|length}}</td>
                            <td>{{edgeslf[job.id]}}</td>
                            <td>{{job.cutouts|length}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>


        <div class="d-flex report-tables" style="flex-wrap: wrap;">
            <div style="text-align: center;">
                <h4>Customers</h4>
                <table class="table">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Customer </th>
                            <th scope="col">Square Footage</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for contractor in data['contractors'] %}
                        <tr>
                            <th scope="row">{{contractor.upper()}}</th>
                            <td>{{data['contractors'][contractor]}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <div style="text-align: center;">
                <h4>Edge Detail</h4>
                <table class="table">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Edge </th>
                            <th scope="col">Linear Footage</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for edge in data['lf'] %}
                        <tr>
                            <th scope="row">{{edge.upper()}}</th>
                            <td>{{data['lf'][edge]}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <div style="text-align: center;">
                <h4>Cutouts</h4>
                <table class="table">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Cutout Type</th>
                            <th scope="col">Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for cutout in data['total_cutouts'] %}
                        <tr>
                            <th scope="row">{{cutout.upper()}}</th>
                            <td>{{data['total_cutouts'][cutout]}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <div style="text-align: center;">
                <h4>Material Type</h4>
                <table class="table">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Material Type</th>
                            <th scope="col">Square Footage</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for type in data['slab_types'] %}
                        <tr>
                            <th scope="row">{{type.upper()}}</th>
                            <td>{{data['slab_types'][type]}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

        </div>
    </div>



</div>
{% endblock %}